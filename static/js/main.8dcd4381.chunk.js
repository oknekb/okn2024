(this["webpackJsonpsvmd-map"]=this["webpackJsonpsvmd-map"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"date":"09.03.2025, 03:30:07"}')},26:function(e){e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{")]}\'":"{\\"version\\":\\"0.6\\""},"geometry":{"type":"Point","coordinates":[0,0]}}]}')},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var n,c=r(14),a=r.n(c),o=r(2),s=r(7),i=r(1),j=r.n(i),u=r(37),b=r(47),l=r(38),O=r(39),d=r(48),p=r(3),f=r(13),x=r.n(f);!function(e){e.OSM="https://tile.openstreetmap.org/{z}/{x}/{y}.png",e.LIGHT="http://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",e.DARK="https://{s}.basemaps.cartocdn.com/rastertiles/dark_all/{z}/{x}/{y}.png",e.DARK_NOLABELS="https://{s}.basemaps.cartocdn.com/rastertiles/dark_nolabels/{z}/{x}/{y}.png"}(n||(n={}));var m,g="DD.MM.YYYY",h=n.OSM,v=(x()("01.01.1900",g).toDate().getFullYear(),x()("01.01.2100",g).toDate().getFullYear(),[56.8352,60.6117]),S=new p.LatLngBounds([55.558001,55.976822],[61.698397,65.970945]),y=r(45),E=r.p+"static/media/meerkat.ffbc9f78.png",T=r(0),A=new p.LatLngBounds([54.952386,82.777176],[55.171025,83.044968]),N=function(){return Object(T.jsx)(y.a,{url:E,bounds:A,opacity:.91})};!function(e){e.NAME="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",e.NUMBER="\u041d\u043e\u043c\u0435\u0440",e.ADDRESS="\u0410\u0434\u0440\u0435\u0441",e.COORDINATES="\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",e.STATUS="\u0421\u0442\u0430\u0442\u0443\u0441",e.TYPE="\u0422\u0438\u043f",e.CATEGORY="\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",e.PHOTO="\u0424\u043e\u0442\u043e"}(m||(m={}));var M=r(44),P=r(43),B=r(36),R=r(25),F=r.n(R);x.a.locale("ru-RU"),x.a.extend(F.a);var U=function(e){var t,r,n=e.feature,c=n.properties,a=Object(M.a)(c[m.NAME])?"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f":c[m.NAME],o=Object(i.useState)(!1),j=Object(s.a)(o,2),u=(j[0],j[1],Object(i.useMemo)((function(){return"Point"===n.geometry.type?n.geometry.coordinates.join(","):null}),[c])),b=Object(i.useMemo)((function(){return null===u||void 0===u?void 0:u.replace(",",", ")}),[u]);return Object(T.jsx)(B.a,{className:"card",closeOnEscapeKey:!0,closeButton:!0,children:Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"title",children:a}),Object(M.a)(c[m.PHOTO])?Object(T.jsx)(T.Fragment,{}):Object(T.jsx)("div",{className:"photo",style:{backgroundImage:"url('".concat(c[m.PHOTO],"')")},title:c[m.NAME]}),Object(M.a)(c[m.ADDRESS])?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)("div",{children:[c[m.ADDRESS],Object(T.jsx)("br",{}),Object(T.jsx)("br",{})]}),Object(M.a)(c[m.TYPE])?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:m.TYPE}),": ",c[m.TYPE],Object(T.jsx)("br",{})]}),Object(M.a)(c[m.NUMBER])?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"\u041d\u043e\u043c\u0435\u0440 \u0432 \u0440\u0435\u0435\u0441\u0442\u0440\u0435"}),": ",Object(T.jsx)("a",{target:"_blank",href:"https://ru-monuments.toolforge.org/get_info.php?id=".concat(c[m.NUMBER]),children:c[m.NUMBER]}),Object(T.jsx)("br",{})]}),Object(M.a)(c[m.STATUS])?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:m.STATUS}),": ",c[m.STATUS],Object(T.jsx)("br",{})]}),!!u&&Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"\u0422\u043e\u0447\u043a\u0430"}),": ",Object(T.jsx)("a",{href:"https://yandex.ru/maps/54/yekaterinburg?text=".concat(u),target:"_blank",children:b}),Object(T.jsx)("br",{})]}),Object(M.a)(c[m.NUMBER])?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)("div",{children:[Object(T.jsx)("br",{}),Object(T.jsx)("a",{target:"_blank",href:"https://docs.google.com/forms/d/e/1FAIpQLSejGfzrc0eujB3tT0ABPlOo_i-eseyzNzuPDbEQxEJqZY3cZg/viewform?usp=pp_url&entry.32995153=".concat(null!==(t=c[m.NUMBER])&&void 0!==t?t:"","&entry.1617559087=").concat(null!==(r=c[m.NAME])&&void 0!==r?r:""),children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443"})]})]})})},D=r(42),Y=r(46),k="#3f51b5",_=["#3f51b5"],z=function(e){switch(e){case"\u0413\u043e\u0442\u043e\u0432\u043e":return"rgb(106, 176, 76)";case"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c":return"rgb(249, 202, 36)";case"\u041d\u0443\u0436\u0435\u043d \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433":return"rgb(235, 77, 75)";default:return"#3f51b5"}},L=function(e){var t=e.features,r=e.filter,n=Object(i.useMemo)((function(){return Array(t.length).fill(null).map((function(){return j.a.createRef()}))}),[t]);Object(i.useEffect)((function(){if(!Object(M.a)(r.search)){var e=Object(P.a)((function(e){return e.properties[m.NAME]===r.search}))(t);e&&function(e){var t;null!==(t=n[e])&&void 0!==t&&t.current&&n[e].current.openPopup()}(e.id)}}),[t,r,n]);var c,a=function(e,t){return e.filter((function(e){return"0,0"!==e.geometry.coordinates.toString()}))}(t);return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(l.a,{center:v,zoom:7,minZoom:4,maxBounds:S,zoomControl:!1,children:[Object(T.jsx)(O.a,{position:"topright"}),Object(T.jsx)(d.a,{url:h,attribution:"TMS by Basemaps | svmd-map"}),(c=a,c.map((function(e){var t=e.id,r=(e.properties,e.geometry),c={weight:3,fillOpacity:.7,color:z(e.properties[m.STATUS])};return Object(T.jsxs)("div",{children:["Polygon"===r.type&&Object(T.jsx)(u.a,Object(o.a)(Object(o.a)({ref:n[t]},c),{},{positions:r.coordinates,children:Object(T.jsx)(U,{feature:e})})),"Point"===r.type&&Object(T.jsx)(b.a,Object(o.a)(Object(o.a)({ref:n[t]},c),{},{pane:"markerPane",center:r.coordinates,radius:8,children:Object(T.jsx)(U,{feature:e})}))]},t)}))),Object(T.jsx)(N,{})]})})},w=r(15),C=Object(w.a)({search:""},m.CATEGORY,[]),I=(r(32),r(33),r(34),r(26)),J=r(40),G=r(41),H=function(e){return Object(T.jsxs)("div",{className:"legendEntity",children:[Object(T.jsx)("div",{className:"legendBox",style:{background:e.color}}),Object(T.jsx)("span",{children:e.text})]})},K=function(e){var t=e.palette,r=(e.setPalette,e.features),n=Object(i.useState)(m.STATUS),c=Object(s.a)(n,2),a=(c[0],c[1],m.STATUS,Object(i.useMemo)((function(){return function(e,t){return Object(D.a)(e.map((function(e){return Object.entries(e.properties).find((function(e){return e[0]===String(t)}))})).map((function(e){return String(Object(Y.a)(e))})).filter((function(e){return!Object(M.a)(e)})).map((function(e){return String(e)}))).map((function(e,t){return{text:e,color:z(e)}})).concat({text:"",color:k}).concat({text:void 0,color:k})}(r,t)}),[r,t]));return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"legend",children:Object(T.jsx)("div",{children:a.filter((function(e){return!Object(J.a)(e.text)&&!Object(M.a)(e.text)})).map((function(e,t){var r=e.text;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(H,{color:Object(G.a)(_[t%_.length],e.color),text:r},t),Object(T.jsx)("span",{children:" "})]})}))})})})};var Z=function(){var e=Object(i.useState)(C),t=Object(s.a)(e,2),r=t[0],n=(t[1],Object(i.useState)(m.STATUS)),c=Object(s.a)(n,2),a=c[0],j=c[1],u=Object(i.useMemo)((function(){return I.features.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t.toString()})})).map((function(e){var t=e.geometry,r=t.type,n=t.coordinates,c=[];return"Point"===r?c=[n[1],n[0]]:"Polygon"===r&&(c=n.map((function(e){return e.map((function(e){return[e[1],e[0]]}))}))),Object(o.a)(Object(o.a)({},e),{},{geometry:Object(o.a)(Object(o.a)({},e.geometry),{},{coordinates:c})})}))}),[]);return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{id:"map",children:[Object(T.jsx)(K,{palette:a,features:u,setPalette:j}),Object(T.jsx)(L,{features:u,filter:r})]})})},Q=r(20);console.info("\ud83d\udccd \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0440\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043e\u0442 ".concat(null===Q||void 0===Q?void 0:Q.date)),a.a.render(Object(T.jsx)(Z,{}),document.getElementById("root"))}},[[35,1,2]]]);